---
interface Props {
    url: string;
    name: string;
    scale?: boolean;
}

const {name, url, scale} = Astro.props
/*
const resp = await fetch(url);
const data = (await resp.json());
console.log(data?.sprites)
const img = data?.sprites?.other?.["official-artwork"].front_default
*/

/*const numberPokemon = url.split("/").at(-2) */
const id = url.split("/").at(-2);
const imageSrc = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${id}.png`
---

<article
class={`rounded border flex flex-col justify-center items-center p-2 cursor-auto ${scale ? "hover:scale-105" : ''}`}
>
<!--href={`/pokemons/${name}`} -->
<a href={`/pokemons/${name}`}>
    <h2 class="text-center text-lg text-cyan-400">{name}</h2>
    <img  
    transition:name={`${name}--image`}
    src={imageSrc} alt={name}
    class="w-auto h-auto"
    />
    <span class="capitalize w-full text-center flex">#{id} {name}</span>
</a>
</article>
